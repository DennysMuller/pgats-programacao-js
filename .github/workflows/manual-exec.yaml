# CI de Nível 01 - Disparo manual a partir de 1 clique

# Nome do 'pipeline'
name: 'CI - Execução Manual (Testes com Mocha)'

# Gatilho de exec manual = workflow_dispatch
on:
  workflow_dispatch:

# Trabalhos/tarefas dentro do pipeline = jobs
jobs:
  testes:
    # Máquina que o job vai executar
    runs-on: ubuntu-latest

    # Passos do script de build
    steps:
      # Clone do projeto
      - name: Clonar projeto
        uses: actions/checkout@v4

      # Instalação do NodeJs
      - name: Instalar NodeJs
        uses: actions/setup-node@v3
        with:
          node-version: 22.x
          cache: 'npm'  # Habilita cache de dependências
      
      - name: Instalar dependências
        run: npm install

      # Executar os testes com mocha
      - name: Executar Testes
        run: npx mocha ./testes/01-testes.js
